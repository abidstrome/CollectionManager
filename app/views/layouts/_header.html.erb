<header>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class= "container-fluid">
      <a class="navbar-brand" href="<%= root_path %>">TreasureX</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <%= link_to 'Collections', collections_path, class: 'nav-link' %>
          </li>
          <% if user_signed_in? %>
          <li class="nav-item">
            <%= link_to 'New Collection', new_collection_path(current_user), class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to 'My Collections', user_path(current_user), class: 'nav-link' %>
          </li>
          <% if current_user.admin? %>
            <li class="nav-item">
              <%= link_to 'Manage Users', admin_users_path, class: 'nav-link' %>
            </li>
          <% end %>
          <li class= "nav-item">
            <%= link_to 'Create Support Ticket', create_support_ticket_path, class:'nav-link'%>
          </li>
          <li class="nav-item">
            <%= link_to 'Logout', destroy_user_session_path, method: :delete, data: { turbo_method: :delete }, class: 'nav-link' %>
          </li>
          <% else %>
          <li class="nav-item">
            <%= link_to 'Sign Up', new_user_registration_path, class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to 'Login', new_user_session_path, class: 'nav-link' %>
          </li>
          <% end %>
          <li class="nav-item">
            <%= form_with(url: search_path, method: :get, local: true,class: 'd-flex') do |form| %>
            
              <%= form.text_field :query, placeholder: "Search items", class: "form-control me-2" %>
              <%= form.submit 'Search', class: 'btn btn-outline-success' %>
           <% end %>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
